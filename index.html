<!DOCTYPE html>
<html lang="cs">
<head>
	<meta charset="UTF-8">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<title>HTML Formulář V0.7</title>
	<style type="text/css">
	b{
		color:red;
	}
	.obalka{
		border: 1px solid red
	}
	.lista{
		width: 750px;
		height: 3Opx;
		background-color: grey;
		font-size: 10px;
	}
	#zadani{
		width: 750px;
	}
	#spodek{
		width: 750px;
	}
	#vlevo{
		width: 760px;
		float: left;
	}
	#tlacitka{
		width: 750px;
		height: 50px;
	}
	#vycistit{
		float: right;
		width: 100px;
		height: 25px;
		font-size: 15px;
		font-weight: bold;
	}
	#copy_all{
		float: left;
		width: 150px;
		height: 25px;
		font-size: 15px;
		font-weight: bold;
	}
	.polozka{
		display:none;
	}
		}
	</style>
	<script type="text/javascript">
		function schovej(ktery){
			if ($("#polozka" + ktery).is(":hidden")) {
					$("#polozka" + ktery).slideDown(500);
					$("#skryj" + ktery).text("-");
				} else {
					$("#polozka" + ktery).slideUp(500);
					$("#skryj" + ktery).text("+");
				}
		}

$(document).ready(function () {
	$('input:radio').click(function () {
		for(j=1; j<=5; j++){
			if ($('#jine'+j).is(":checked")) {
				$("#tucne"+j).prop('disabled', false);
			} else {
				$("#tucne"+j).prop('disabled', true);
			}
		}
	});
});
	</script>
</head>
<body>
  <form id="zadani">
		<div id="vlevo">
			<div id="vrsek">
		    <b>Podnadpis</b><br>
		    <input type="text" id="podnadpis" size="87" oninput="zpracovani();" tabindex="1">
				<input type="checkbox" id="ch_podnadpis" value="false">
				<input type="button" id="copy_podnadpis" value="Kopírovat" onclick="zkopiruj('podnadpis');"><br>
				<b>Popis</b><br>
				<textarea id="popis" rows="5" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
				<input type="checkbox" id="ch_popis" value="false"><br>
			</div>
			<div id="spodek">
				<div id="polozky">
					<div id="polozka1">
				    <b>Tučně</b><br>
						<input type="radio" id="techs1" name="rtucne1" value="Technické špecifikácie: " onclick="radia();">
						<label for="techs1">Technické špecifikácie</label>
						<input type="radio" id="vlastp1" name="rtucne1" value="Vlastnosti produktu: " onclick="radia();">
						<label for="vlastp1">Vlastnosti produktu</label>
						<input type="radio" id="pop1" name="rtucne1" value="Popis: " onclick="radia();">
						<label for="pop1">Popis</label>
						<input type="radio" id="obsahb1" name="rtucne1" value="Obsah balenie: " onclick="radia();">
						<label for="obsahb1">Obsah balenie</label>
						<input type="radio" id="obsahs1" name="rtucne1" value="Obsah sady: " onclick="radia();">
						<label for="obsahs1">Obsah sady</label>
						<input type="radio" id="jine1" name="rtucne1" value="Jiné" onclick="document.getElementById('tucne1').value='';zpracovani();">
						<label for="jine1">Jiné</label><br>
				    <input type="text" id="tucne1" size="87" oninput="zpracovani();" tabindex="3" disabled>
						<input type="checkbox" id="ch_tucne1" value="false"><br>
				    <b>Položky</b><br>
				    <textarea id="odrazky1" rows="15" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
						<input type="checkbox" id="ch_odrazky1" value="false"><br>
					</div>
					<div class="obalka">
						<div id="skryj2" class="lista" onclick="schovej('2');">
							+
						</div>
						<div id="polozka2" class="polozka">
							<b>Tučně</b><br>
							<input type="radio" id="techs2" name="rtucne2" value="Technické špecifikácie: " onclick="radia();">
							<label for="techs2">Technické špecifikácie</label>
							<input type="radio" id="vlastp2" name="rtucne2" value="Vlastnosti produktu: " onclick="radia();">
							<label for="vlastp2">Vlastnosti produktu</label>
							<input type="radio" id="pop2" name="rtucne2" value="Popis: " onclick="radia();">
							<label for="pop2">Popis</label>
							<input type="radio" id="obsahb2" name="rtucne2" value="Obsah balenie: " onclick="radia();">
							<label for="obsahb2">Obsah balenie</label>
							<input type="radio" id="obsahs2" name="rtucne2" value="Obsah sady: " onclick="radia();">
							<label for="obsahs2">Obsah sady</label>
							<input type="radio" id="jine2" name="rtucne2" value="Jiné" onclick="document.getElementById('tucne2').value='';zpracovani();">
							<label for="jine2">Jiné</label><br>
					    <input type="text" id="tucne2" size="87" oninput="zpracovani();" tabindex="3" disabled>
							<input type="checkbox" id="ch_tucne2" value="false"><br>
					    <b>Položky</b><br>
					    <textarea id="odrazky2" rows="15" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
							<input type="checkbox" id="ch_odrazky2" value="false"><br>
						</div>

					</div>
					<div class="obalka">
						<div id="skryj3" class="lista" onclick="schovej('3');">
							+
						</div>
						<div id="polozka3" class="polozka">
							<b>Tučně</b><br>
							<input type="radio" id="techs3" name="rtucne3" value="Technické špecifikácie: " onclick="radia();">
							<label for="techs3">Technické špecifikácie</label>
							<input type="radio" id="vlastp3" name="rtucne3" value="Vlastnosti produktu: " onclick="radia();">
							<label for="vlastp3">Vlastnosti produktu</label>
							<input type="radio" id="pop3" name="rtucne3" value="Popis: " onclick="radia();">
							<label for="pop3">Popis</label>
							<input type="radio" id="obsahb3" name="rtucne3" value="Obsah balenie: " onclick="radia();">
							<label for="obsahb3">Obsah balenie</label>
							<input type="radio" id="obsahs3" name="rtucne3" value="Obsah sady: " onclick="radia();">
							<label for="obsahs3">Obsah sady</label>
							<input type="radio" id="jine3" name="rtucne3" value="Jiné" onclick="document.getElementById('tucne3').value='';zpracovani();">
							<label for="jine3">Jiné</label><br>
					    <input type="text" id="tucne3" size="87" oninput="zpracovani();" tabindex="3" disabled>
							<input type="checkbox" id="ch_tucne3" value="false"><br>
					    <b>Položky</b><br>
							<textarea id="odrazky3" rows="15" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
							<input type="checkbox" id="ch_odrazky3" value="false"><br>
						</div>

					</div>
					<div class="obalka">
						<div id="skryj4" class="lista" onclick="schovej('4');">
							+
						</div>
						<div id="polozka4" class="polozka">
							<b>Tučně</b><br>
							<input type="radio" id="techs4" name="rtucne4" value="Technické špecifikácie: " onclick="radia();">
							<label for="techs4">Technické špecifikácie</label>
							<input type="radio" id="vlastp4" name="rtucne4" value="Vlastnosti produktu: " onclick="radia();">
							<label for="vlastp4">Vlastnosti produktu</label>
							<input type="radio" id="pop4" name="rtucne4" value="Popis: " onclick="radia();">
							<label for="pop4">Popis</label>
							<input type="radio" id="obsahb4" name="rtucne4" value="Obsah balenie: " onclick="radia();">
							<label for="obsahb4">Obsah balenie</label>
							<input type="radio" id="obsahs4" name="rtucne4" value="Obsah sady: " onclick="radia();">
							<label for="obsahs4">Obsah sady</label>
							<input type="radio" id="jine4" name="rtucne4" value="Jiné" onclick="document.getElementById('tucne4').value='';zpracovani();">
							<label for="jine4">Jiné</label><br>
					    <input type="text" id="tucne4" size="87" oninput="zpracovani();" tabindex="3" disabled>
							<input type="checkbox" id="ch_tucne4" value="false"><br>
					    <b>Položky</b><br>
							<textarea id="odrazky4" rows="15" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
							<input type="checkbox" id="ch_odrazky4" value="false"><br>
						</div>

					</div>
					<div class="obalka">
						<div id="skryj5" class="lista" onclick="schovej('5');">
							+
						</div>
						<div id="polozka5" class="polozka">
							<b>Tučně</b><br>
							<input type="radio" id="techs5" name="rtucne5" value="Technické špecifikácie: " onclick="radia();">
							<label for="techs5">Technické špecifikácie</label>
							<input type="radio" id="vlastp5" name="rtucne5" value="Vlastnosti produktu: " onclick="radia();">
							<label for="vlastp5">Vlastnosti produktu</label>
							<input type="radio" id="pop5" name="rtucne5" value="Popis: " onclick="radia();">
							<label for="pop5">Popis</label>
							<input type="radio" id="obsahb5" name="rtucne5" value="Obsah balenie: " onclick="radia();">
							<label for="obsahb5">Obsah balenie</label>
							<input type="radio" id="obsahs5" name="rtucne5" value="Obsah sady: " onclick="radia();">
							<label for="obsahs5">Obsah sady</label>
							<input type="radio" id="jine5" name="rtucne5" value="Jiné" onclick="document.getElementById('tucne5').value='';zpracovani();">
							<label for="jine5">Jiné</label><br>
					    <input type="text" id="tucne5" size="87" oninput="zpracovani();" tabindex="3" disabled>
							<input type="checkbox" id="ch_tucne5" value="false"><br>
					    <b>Položky</b><br>
							<textarea id="odrazky5" rows="15" cols="89" oninput="zpracovani();" tabindex="3"></textarea>
							<input type="checkbox" id="ch_odrazky5" value="false"><br>
						</div>

					</div>
				</div>
		    <b>Výstup</b><br>
		    <textarea id="vystup" rows="20" cols="89"></textarea><br>
				<div id="tlacitka">
					<input type="button" id="vycistit" value="Vyčistit" onclick="vycisti();">
					<input type="button" id="copy_all" value="Kopírovat vše" onclick="zkopiruj('vystup');" tabindex="4">
				</div>
			</div>
			<b>Poznámky</b><br>
			<textarea id="ta_poznamky" rows="5" cols="80"></textarea>
		</div>
  </form>
  <script>

		/*
		Prubezne zapisovani do textarea
		*/
		function zpracovani(){
      var vystup="";
      document.getElementById("vystup").value=""
			if (document.getElementById("podnadpis").value!=""){
				document.getElementById("vystup").value+="<h3>"+document.getElementById("podnadpis").value.trim()+"</h3><br />\n";
			}
			if (document.getElementById("popis").value!=""){
				popisky_out="";
				var popisky = document.getElementById("popis").value.split("\n");
				popisky.forEach(popiskovani);
			  function popiskovani(polozka) {
				 if (polozka!=""){
					 popisky_out+=polozka.trim()+"<br />\n";
				 }
			 }
				document.getElementById("vystup").value+=popisky_out;
			}
			for(i=1; i<=5; i++){
				vystup="";
				var odrazky = document.getElementById("odrazky" + i).value.split("\n");

				/*
	      rozdeleni polozek do pole
	      */
	      odrazky.forEach(polozkovani);
	      function polozkovani(polozka) {
	        if (polozka!=""){
	          vystup+="<li>"+polozka.trim()+"</li>\n";
	        }
	      }

	      /*
	      Zapisovani do textarea
	      */
	      if (document.getElementById("tucne" + i).value!=""){
	        document.getElementById("vystup").value+="<b>"+document.getElementById("tucne" + i).value.trim()+"</b><br />\n";
	      }
	      if (document.getElementById("odrazky" + i).value!=""){
	        document.getElementById("vystup").value+="<ul>\n";
	        document.getElementById("vystup").value+=vystup;
	        document.getElementById("vystup").value+="</ul>\n";
	      }
			}
		}

		/*
		Zkopirovani do schranky
		*/
		function zkopiruj(co) {
			if(co!=""){
				navigator.clipboard.writeText(document.getElementById(co).value).then();
			}
			else {
				navigator.clipboard.writeText(document.getElementById("vystup").value).then();
			}
    }

		/*
		Vycisteni formulare
		*/
		function vycisti(){

			if (document.getElementById("ch_podnadpis").checked==false){
				document.getElementById("podnadpis").value="";
			}
			if (document.getElementById("ch_popis").checked==false){
				document.getElementById("popis").value="";
			}
			for(i=1; i<=5; i++){
				if (document.getElementById("ch_tucne" + i).checked==false){
					document.getElementById("tucne" + i).value="";
					document.getElementById("techs" + i).checked = false;
					document.getElementById("vlastp" + i).checked = false;
					document.getElementById("pop" + i).checked = false;
					document.getElementById("obsahb" + i).checked = false;
					document.getElementById("obsahs" + i).checked = false;
					document.getElementById("jine" + i).checked = false;
				}
				if (document.getElementById("ch_odrazky" + i).checked==false){
					document.getElementById("odrazky" + i).value="";
				}
				document.getElementById("vystup").value="";
			}
			zpracovani();

		}

		function radia(){
			for(j=1; j<=5; j++){
				var tucne = document.getElementsByName('rtucne' + j);
				var tucne_value;
				for(var i = 0; i < tucne.length; i++){
				    if(tucne[i].checked){
				        tucne_value = tucne[i].value;
								document.getElementById("tucne" + j).value=tucne_value;
				    }
					}
			}
			zpracovani();
		}
	</script>
</body>
</html>
